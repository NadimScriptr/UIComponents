<html ng-app="myApp">
<head>
    
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="//use.fontawesome.com/3d61d6959e.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>	
   
    <!-- Adding Angular -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
    <!-- Charts used in historical angular.morris -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
    <link rel="stylesheet" href="/UIComponents/dashboard/frontend/components/chart/chart.css">
  
    <script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
    <!--script src="//cdnjs.cloudflare.com/ajax/libs/angular-morris/1.3.0/angular-morris.min.js"></script-->
    <script src="/UIComponents/dashboard/frontend/components/chart/angular.morris.js"></script>
  
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-cookies.js"></script>
    <script src="//cdn.rawgit.com/gdi2290/angular-websocket/v1.0.9/angular-websocket.min.js"></script>
    <script src="/UIComponents/wsProvider.js"></script>
    <script src="/UIComponents/httpProvider.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/chart/chart.js"></script>
    
     <script src="//cdnjs.cloudflare.com/ajax/libs/dygraph/1.0.1/dygraph-combined.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>
    <!-- remove .min in case of debugging to include the non-minified file -->
    <script src="//cdn.plot.ly/plotly-latest.min.js"></script>
    
    <script src="/UIComponents/dashboard/frontend/components/plotly/angular-plotly.js"></script>
  <script src="/UIComponents/dashboard/frontend/components/plotly/plotly.js"></script>
    <script src="/UIComponents/config/scriptrTransport.js"></script>
    <script src="/UIComponents/dataService.js"></script>
</head> 
  
<script>
    var myApp= angular.module("myApp", ["WsClient", "HttpClient", "plotly","DataService"])
    angular.module('myApp').config(wssConfig);
  	angular.module('myApp').config(httpsConfig);
  
    angular.module('myApp').controller('testCtrl', function($scope, $timeout) {
        var vm = this;
        vm.init = function() {
            var trace1 = {
              r: [10, 5, 20, 5, 0, 4, 1, 11.5, 30, 3, 7, 8, 11, 14, 19, 20],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '11-14 m/s',
              marker: {color: 'rgb(106,81,163)'},
              type: 'area',
                hoverinfo :'skip',  hovermode : false,
                 'showlegend': false
            };

            var trace2 = {
              r: [5, 5, 15, 0.5, 60, 8, 14, 16.5, 8, 4, 2, 0, 7, 0, 0, 0],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '8-11 m/s',
              marker: {color: 'rgb(158,154,200)'},
              type: 'area',
               hoverinfo :'skip',  hovermode : false,
                'showlegend': false
            };

           var trace3 = {
              r: [40, 5, 30, 30.0, 35.0, 7.5, 7.5, 32.5, 40.0, 1, 12, 40, 45, 20, 10, 9],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '5-8 m/s',
              marker: {color: 'rgb(203,201,226)'},
              type: 'area',
               hoverinfo :'skip',  hovermode : false,
                'showlegend': false
            };

            var trace4 = {
              r: [25.0, 5, 7.5, 16.0, 22.5, 2.5, 2.5, 12.5, 22.5, 100, 0, 12, 15, 11, 20, 30],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '< 5 m/s',
              marker: {color: 'rgb(242,240,247)'},
              type: 'area',
               hoverinfo :'skip', hovermode : false,
                 'showlegend': false
            };

            vm.data2 = [trace1, trace2, trace3, trace4];

            
        /**   $timeout(function(){
             trace1 = {
              r: [10, 5, 20, 5, 0, 4, 1, 11.5, 30, 3, 7, 8, 11, 14, 19, 20],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '11-14 m/s',
              marker: {color: 'rgb(106,81,163)'},
              type: 'area',
                 hoverinfo :'none'
            };

            trace2 = {
              r: [5, 5, 15, 0.5, 60, 8, 14, 16.5, 8, 4, 2, 0, 7, 0, 0, 0],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '8-11 m/s',
              marker: {color: 'rgb(158,154,200)'},
              type: 'area',
               hoverinfo :'none'
            };

            trace3 = {
              r: [40, 5, 30, 30.0, 35.0, 7.5, 7.5, 32.5, 40.0, 1, 12, 40, 45, 20, 10, 9],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '5-8 m/s',
              marker: {color: 'rgb(203,201,226)'},
              type: 'area',
               hoverinfo :'none'
            };

            trace4 = {
              r: [25.0, 5, 7.5, 16.0, 22.5, 2.5, 2.5, 12.5, 22.5, 100, 0, 12, 15, 11, 20, 30],
              t: ['North', 'N-N-E', 'N-E', 'E-N-E', 'East', 'E-S-E', 'S-E', 'S-S-E', 'South', 'S-S-W', 'S-W', 'W-S-W', 'West', 'W-N-W', 'N-W', 'N-N-W'],
              name: '< 5 m/s',
              marker: {color: 'rgb(242,240,247)'},
              type: 'area',
                hoverinfo :'none',
                
            };
                vm.data2 = [trace1, trace2, trace3, trace4];
            }, 5000)

**/
           vm.layout2 = {
              title: 'Wind Speed Distribution in Laurel, NE',
              font: {size: 16},
              legend: {font: {size: 16}},
              radialaxis: {ticksuffix: '%'},
              orientation: 270,
                hovermode : false,
                hoverinfo :'skip',
                displaymodebar: false
               
            };
            
            vm.options = {
				hovermode :false,
                displaymodebar: false,
                hoverinfo :'skip'
       

            }
        }
        

      });
  
</script>

<body>  
  <div ng-controller="testCtrl as vm" ng-init="vm.init()" >
    <!-- On initial load do not show data, when msg received over channel with msg-tag = chart, show data -->
    
      
      <div class="col-xs-12 col-sm-6 mb10"> 
      <div class="box-shadow bg-white"> 
          <scriptr-plotly transport="wss" api="UIComponents/dashboard/frontend/examples/plotly/getPlotlyData" retrieved-data="vm.data2" layout="vm.layout2" options="vm.options" >					
          </scriptr-plotly>
      </div>
    </div>

  </div>  

</body>  
   
</html>