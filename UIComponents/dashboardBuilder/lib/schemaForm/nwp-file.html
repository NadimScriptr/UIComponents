<ng-form class="file-upload mb-lg" ng-schema-file ng-model="$$value$$" name="uploadForm">
    <label ng-show="form.title && form.notitle !== true" class="control-label" for="fileInputButton" ng-class="{'sr-only': !showTitle(), 'text-danger': uploadForm.$error.required && !uploadForm.$pristine}">
        {{ form.title }}<i ng-show="form.required">&nbsp;*</i>
    </label>
    <div class="upload-section">
        <div ngf-drop="selectFile(picFile)" ngf-select="selectFile(picFile)" ngf-model-invalid="invalidFile"  type="file" ngf-multiple="false" ng-model="picFile" name="file" ng-attr-ngf-pattern="{{form.schema.pattern && form.schema.pattern.mimeType ? form.schema.pattern.mimeType : undefined }}" ng-attr-ngf-max-size="{{form.schema.maxSize && form.schema.maxSize.maximum ? form.schema.maxSize.maximum : undefined }}" ng-required="form.required" accept="{{form.schema.pattern && form.schema.pattern.mimeType}}" ng-model-options="form.ngModelOptions" ngf-drag-over-class="dragover"> 
           <div class="default-image fas" ng-if="!picFile && !$$value$$"> 
               <img ng-if="form.schema.default" ng-src="{{form.schema.default}}" />
            </div>
            <div ng-if="!picFile && ($$value$$ && $$value$$ != form.schema.default)"  class="default-image fas"> 
               <img ng-src="{{$$value$$}}" />
            </div>
            <div ng-if="!picFile && ($$value$$ && $$value$$ == form.schema.default)"  class="default-image fas"> 
               <img ng-src="{{form.schema.default}}" />
            </div>
            <div ng-if="picFile" class="uploaded-image">
                 <div ng-include="'uploadProcess.html'" class="mb"></div>
            </div>
        </div>
        <div class="remove-file" ng-show="picFile || ($$value$$ && $$value$$ != form.schema.default)">
           <a ng-click="removeFile()" uib-tooltip="Remove Image" tooltip-placement="auto" tooltip-append-to-body="true"><i class="fa fa-times" aria-hidden="true"></i></a>
        </div> 
    </div>
    <div ng-messages="uploadForm.$error" ng-messages-multiple="">
        <div class="text-danger errorMsg" ng-message="maxSize">{{ form.schema[invalidFile.$error].validationMessage | translate }} <strong>{{invalidFile.$errorParam}}</strong>.</div>
        <div class="text-danger errorMsg" ng-message="pattern">{{ form.schema[invalidFile.$error].validationMessage | translate }} <strong>{{invalidFile.$errorParam}}</strong>.</div>
        <div class="text-danger errorMsg" ng-show="errorMsg">{{errorMsg}}</div>
    </div>
    
    
    </div>
</ng-form>
<script type='text/ng-template' id="uploadProcess.html">
    <div class="table-display">
        <div class="cell-display">
            <img ngf-src="picFile" class="img-responsive">
        </div>
    </div>
</script>
