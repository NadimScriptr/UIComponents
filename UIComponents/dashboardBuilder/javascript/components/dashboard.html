<div ng-if="$ctrl.show" uib-alert ng-class="'alert-' + ( $ctrl.message.type || 'warning')" close="$ctrl.closeAlert()" dismiss-on-timeout="5000">{{$ctrl.message.content}}
</div>

<div class="page-header col-xs-12">
   <form name="scriptForm" ng-submit="$ctrl.saveDashboard(scriptForm)">
     <div class="col-xs-12 col-sm-6">
         <div sf-options="$ctrl.frmGlobalOptions" sf-schema="$ctrl.schema" sf-form="$ctrl.form" sf-model="$ctrl.model" ></div>
    </div>
    <div class="col-xs-12 col-sm-6">
       <a class="pull-right btn btn-sm btn-warning ml5" ng-click="$ctrl.logout()"><i class="fa fa-user-circle" aria-hidden="true"></i> Logout</a>
       <a class="pull-right btn btn-sm btn-warning ml5" ng-click="$ctrl.clear()"><i class="fa fa-trash" aria-hidden="true"></i> Clear</a>
       <a class="pull-right btn  btn-sm btn-warning ml5" ng-click="$ctrl.setTransportSettings()"><i class="fa fa-cog" aria-hidden="true"></i> Settings</a>
       <a class="pull-right  btn-sm  btn btn-warning ml5" ng-if="$ctrl.isEdit" ng-click="$ctrl.viewDasboard()"><i class="fa fa-eye" aria-hidden="true"></i> View</a>
       <button class="pull-right  btn-sm  btn btn-warning ml5"  type="submit"><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
    </div>
  </form>
</div>
<div class="clearfix"></div>
<div>
<div class="grey-bg col-xs-2 pdt5 devices-models-tree">
  <scriptr-searchbox  api='{{$ctrl.devicesModel}}'
                     on-select="$ctrl.selectBranch"
  </scriptr-searchbox>
</div>
<div class="col-xs-10 pdl0 ">
<div class="grey-bg pdt5 pdb5 pdr10">
<div class="slick-container">
    <slick 
           settings="$ctrl.slickConfig"
           infinite="true" 
           slides-to-show="$ctrl.widgetsConfig.length"
           slides-to-scroll="0"
           ng-if="$ctrl.dataLoaded" 
           init-onload="false"
           data="$ctrl.dataLoaded"
           >
      <div class="slick-item" ng-repeat="item in $ctrl.widgetsConfig">
         <span>
             <a ng-click="$ctrl.addWidget(item)">
               <img ng-if="item.imgSrc" ng-src="{{ item.imgSrc }}" class="{{item.imgCls}}" alt="{{ item.label}}" />
               <i ng-if="item.iconSrc" class="{{ item.iconSrc }}" aria-hidden="true" alt="{{ item.label}}" /></i>
               <span class="slick-label">{{ item.label }}</span>
             </a>
          </span>
      </div>
    </slick>
 </div>
</div>
<div class="clearfix"></div>
<div gridster="$ctrl.gridsterOptions" class="builder">
	<ul>
		<li gridster-item="widget" ng-repeat="widget in $ctrl.dashboard.widgets">
          <box widget="widget"></box>
		</li>
	</ul>
</div>
</div>
</div>


